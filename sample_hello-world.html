<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="SimplyPHP : A fast, simple and scalable PHP framework" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>SimplyPHP: Learn by example I: Hello World!</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <div id="header" class="inner">
          <a id="forkme_banner" href="https://github.com/yuqkevin/SimplyPHP">Fork Me on GitHub</a>

          <h1 id="project_title">SimplyPHP</h1>
          <h2 id="project_tagline">Learn by example I: Hello World!</h2>

          <div id="downloads">
            <a class="zip_download_link" href="https://github.com/yuqkevin/SimplyPHP/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/yuqkevin/SimplyPHP/tarball/master">Download this project as a tar.gz file</a>
          </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <div id="main_content" class="inner">
        <div id="localtion">
            <a href="/">Home</a>::
            <a href="/SimplyPHP">SimplyPHP</a>::
			<a href="#">Learn by example I: Hello World!</a>
        </div>
		<h3>Objectives</h3>
		<ul>
			<li>A page with content "Hello World!"</li>
		</ul>
		<h3>Database</h3>
		<p>No database needed in this case.</p>
        <h3>Bean & Component</h3>
		<ul><li><strong>Bean</strong>
			<p>Root Bean: For our convenience, we want to put all samples into a same folder like "sample",  so we will create a bean <strong>Sample</strong> to contain all samples.
<pre>
cd <em>document_root</em>/system/app/resource/beans
# create bean "Sample" using bean creator provided with the package:
./create_bean.php Sample
</pre>
All bean files will be created under folder "sample".</p>
<p>Now we start prepare for bean "SampleHello":
<pre>
# create bean "SampleHello", the bean name must be CamelCased!!!
./create_bean SampleHello
</pre>
The folder "hello" will be created under folder sample and bean files will created under sample/hello as well.</p>
			</li>
			<li><strong>Component</strong>
				<p>Now we are going to define the component for request of "hello world":<br>
				&lt;Model, Handler, View&gt; = &lt;SampleHello, world, view/world.tpl.php&gt;
<pre>
cd sample/hello
# edit handler file: 
vi handler/world.inc.php
</pre>
world.inc.php
<pre>
<?php
// all data binding to view will be store in $this->stream['data']
$this->stream['data']['timestamp'] = date('Y-m-d H:i');
?>
</pre>
<pre>
# edit view
vi view/world.tpl.php
</pre>
view/world.tpl.php
<pre>
Hello World at <?php print $timestamp;?>!
</pre>
				</p>
			</li>
			<li>URL: http://<em>your_simplyphp.domain.com</em>/SampleHello/world
				<p>Every request in SimplyPHP is always a request on particular component.</p>
			</li>
			<li>File Structure overview of bean <strong>sample</strong> and child bean <strong>hello</strong>:
<pre style="background:#333;color:#eee;">
beans/--+--sample/--+--model.class.php,lib.class.php
                    |
                    +--hello/--+--model.class.php,lib.class.php
                               |
                               +--handler/ --+-- world.inc.php
                               |
                               +--view/--+--world.tpl.php
</pre>
			</li>
		</ul>
        <h3>Access Control: Bean & Model</h3>
		<ul><li>Active the Bean: copy or symbol link root bean <strong>sample</strong> from app/resource/beans folder to app/beans folder
<pre>
cd <em>document_root</em>/system/app/beans
ln -s ../resource/beans/sample .
</pre></li>
		<li>Enable Model in domain: Add model SampleHello to "Access" section in domain configure file <em>your-simplyPHP.domain.com</em>.ini
<pre>
[Access]
model[] = SampleHello
; or use wildcard
model[] = Sample*
</pre></li>
		<li>Remove authorization protection by setting protection to off in sample/hello/access.ini
<pre>
protection = Off
</pre>
		</li>
		</ul>
		<h3>Finished</h3>
		<p>That's it!  Now you try http://<em>your_simplyphp.domain.com</em>/SampleHello/world and will get content with "Hello World!"</p>

		<div style="text-align:right;border-top:1px dotted gray;">
			<a href="dev_standard.html" style="float:left;">Dev Standard</a>  <a href="sample_gbook.html">Learn by example II: First Database-Driven Application - GuestBook</a>
		</div>
      </div>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <div id="footer" class="inner">
        <p class="copyright">SimplyPHP maintained by <a href="https://github.com/yuqkevin">Yu, Qiang</a></p>
      </div>
    </div>

  </body>
</html>
